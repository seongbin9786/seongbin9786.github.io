<head>
  <style>
    body {
      margin: 0;
    }
  </style>

  <script src="//unpkg.com/three"></script>
  <script src="//unpkg.com/three-spritetext"></script>

  <script src="//unpkg.com/3d-force-graph"></script>
  <!--<script src="../../dist/3d-force-graph.js"></script>-->
</head>

<body>
  <div id="3d-graph"></div>

  <script>
    const Graph = ForceGraph3D()(
      document.getElementById('3d-graph'),
    )
      .jsonUrl('/graph/miserables.json')
      .nodeAutoColorBy('group')
      .nodeThreeObject((node) => {
        const sprite = new SpriteText(node.text);
        sprite.material.depthWrite = false; // make sprite background transparent
        sprite.color = node.color;
        sprite.textHeight = node.size ? 16 : 8;
        return sprite;
      });

    // Spread nodes a little wider
    Graph.d3Force('charge').strength(-120);
  </script>
</body>
